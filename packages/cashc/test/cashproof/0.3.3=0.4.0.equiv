!full_script=True;


# THIS CASHPROOF FAILS DUE TO THE NUMEQUALVERIFY OPTIMISATION MAKING THE IF-STATEMENTS
# NOT EQUIVALENT. I'M STILL COMMITTING THIS FILE FOR REFERENCE.

# TransferWithTimeout
# 22 opcount, 31 bytes
OP_3 OP_PICK OP_0 OP_NUMEQUAL OP_IF OP_4 OP_ROLL OP_ROT OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_3 OP_ROLL OP_1 OP_NUMEQUAL OP_IF OP_3 OP_ROLL OP_SWAP OP_CHECKSIGVERIFY OP_SWAP OP_CHECKLOCKTIMEVERIFY OP_2DROP OP_TRUE OP_ELSE OP_FALSE OP_ENDIF OP_ENDIF
<=>
# 19 opcount, 26 bytes
OP_3 OP_PICK OP_0 OP_NUMEQUAL OP_IF OP_4 OP_ROLL OP_ROT OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_3 OP_ROLL OP_1 OP_NUMEQUALVERIFY OP_3 OP_ROLL OP_SWAP OP_CHECKSIGVERIFY OP_SWAP OP_CHECKLOCKTIMEVERIFY OP_2DROP OP_TRUE OP_ENDIF
# optimisation: opcount ~14%, bytes ~16%
;

# HTLC
# 28 opcount, 37 bytes
OP_4 OP_PICK OP_0 OP_NUMEQUAL OP_IF OP_5 OP_ROLL OP_SHA256 OP_4 OP_ROLL OP_EQUALVERIFY OP_4 OP_ROLL OP_ROT OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_4 OP_ROLL OP_1 OP_NUMEQUAL OP_IF OP_ROT OP_CHECKLOCKTIMEVERIFY OP_DROP OP_3 OP_ROLL OP_SWAP OP_CHECKSIG OP_NIP OP_NIP OP_ELSE OP_FALSE OP_ENDIF OP_ENDIF
<=>
# 25 opcount, 33 bytes
OP_4 OP_PICK OP_0 OP_NUMEQUAL OP_IF OP_5 OP_ROLL OP_SHA256 OP_4 OP_ROLL OP_EQUALVERIFY OP_4 OP_ROLL OP_ROT OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_4 OP_ROLL OP_1 OP_NUMEQUALVERIFY OP_ROT OP_CHECKLOCKTIMEVERIFY OP_DROP OP_3 OP_ROLL OP_SWAP OP_CHECKSIG OP_NIP OP_NIP OP_ENDIF
# optimisation: opcount ~11%, bytes ~11%
;

# Last Will
# 87 opcount, 131 bytes
OP_3 OP_PICK OP_0 OP_NUMEQUAL OP_IF 15552000 OP_CHECKSEQUENCEVERIFY OP_DROP OP_4 OP_PICK OP_HASH160 OP_3 OP_ROLL OP_EQUALVERIFY OP_4 OP_ROLL OP_4 OP_ROLL OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_3 OP_PICK OP_1 OP_NUMEQUAL OP_IF OP_4 OP_PICK OP_HASH160 OP_ROT OP_EQUALVERIFY OP_4 OP_ROLL OP_4 OP_ROLL OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_3 OP_ROLL OP_2 OP_NUMEQUAL OP_IF OP_3 OP_PICK 105 OP_SPLIT OP_NIP OP_SIZE 52 OP_SUB OP_SPLIT OP_8 OP_SPLIT OP_4 OP_SPLIT OP_NIP 32 OP_SPLIT OP_DROP OP_7 OP_PICK OP_HASH160 OP_4 OP_ROLL OP_EQUALVERIFY OP_7 OP_ROLL OP_7 OP_ROLL OP_2DUP OP_SWAP OP_SIZE OP_1SUB OP_SPLIT OP_DROP OP_9 OP_ROLL OP_SHA256 OP_ROT OP_CHECKDATASIGVERIFY OP_CHECKSIGVERIFY 1000 OP_ROT OP_BIN2NUM OP_SWAP OP_SUB OP_8 OP_NUM2BIN 0x17a914 OP_CAT OP_ROT OP_HASH160 OP_CAT 0x87 OP_CAT OP_HASH256 OP_EQUAL OP_NIP OP_NIP OP_ELSE OP_FALSE OP_ENDIF OP_ENDIF OP_ENDIF
<=>
# 83 opcount, 124
OP_3 OP_PICK OP_0 OP_NUMEQUAL OP_IF 15552000 OP_CHECKSEQUENCEVERIFY OP_DROP OP_4 OP_PICK OP_HASH160 OP_3 OP_ROLL OP_EQUALVERIFY OP_4 OP_ROLL OP_4 OP_ROLL OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_3 OP_PICK OP_1 OP_NUMEQUAL OP_IF OP_4 OP_PICK OP_HASH160 OP_ROT OP_EQUALVERIFY OP_4 OP_ROLL OP_4 OP_ROLL OP_CHECKSIG OP_NIP OP_NIP OP_NIP OP_ELSE OP_3 OP_ROLL OP_2 OP_NUMEQUALVERIFY OP_3 OP_PICK 105 OP_SPLIT OP_NIP OP_SIZE 52 OP_SUB OP_SPLIT OP_8 OP_SPLIT OP_4 OP_SPLIT OP_NIP 32 OP_SPLIT OP_DROP OP_7 OP_PICK OP_HASH160 OP_4 OP_ROLL OP_EQUALVERIFY OP_7 OP_ROLL OP_7 OP_ROLL OP_2DUP OP_SWAP OP_SIZE OP_1SUB OP_SPLIT OP_DROP OP_9 OP_ROLL OP_SHA256 OP_ROT OP_CHECKDATASIGVERIFY OP_CHECKSIGVERIFY 1000 OP_ROT OP_BIN2NUM OP_SWAP OP_SUB OP_8 OP_NUM2BIN 0x17a914 OP_CAT OP_ROT OP_HASH160 OP_CAT 0x87 OP_CAT OP_HASH256 OP_EQUAL OP_NIP OP_NIP OP_ENDIF OP_ENDIF
# optimisation: opcount ~5%, bytes ~5%
;
